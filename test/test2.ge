// This defines the logic of a 4-bit adder. 
DEVICES{
SWITCH A1:0;
SWITCH A2:0;
SWITCH A3:0;
SWITCH A4:0;
SWITCH B1:0;
SWITCH B2:0;
SWITCH B3:0;
SWITCH B4:0;
SWITCH CIN:0;
XOR L1;
XOR L2;
XOR L3;
XOR L4;
XOR L5;
XOR L6;
XOR L7;
XOR L8;
AND N1:2;
AND N2:2;
AND N3:2;
AND N4:2;
AND N5:2;
AND N6:2;
AND N7:2;
AND N8:2;
OR O1:2;
OR O2:2;
OR O3:2;
OR O4:2;
}

CONNECTIONS{
A1->L1.I1,N2.I1;
B1->L1.I2,N2.I2;
CIN->L2.I2,N1.I1;
L1->L2.I1,N1.I2;
N1->O1.I1;
N2->O1.I2;

O1->L4.I2,N3.I1;
A2->L3.I1,N4.I1;
B2->L3.I2,N4.I2;
L3->L4.I1,N3.I2;
N3->O2.I1;
N4->O2.I2;

O2->L6.I2,N5.I1;
A3->L5.I1,N6.I1;
B3->L5.I2,N6.I2;
L5->L6.I1,N5.I2;
N5->O3.I1;
N6->O3.I2;

O3->L8.I2,N7.I1;
A4->L7.I1,N8.I1;
B4->L7.I2,N8.I2;
L7->L8.I1,N7.I2;
N7->O4.I1;
N8->O4.I2;

}

MONITORS{
L2;
L4;
L6;
L8;
O4;
}
